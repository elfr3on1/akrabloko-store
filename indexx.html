<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="images/logo.png" type="image/png">

    <meta property="og:image" content="https://akrabloko.vercel.app/images/banner.jpg">
    <meta property="og:title" content="Ø£Ù‚Ø±Ø¨Ù„ÙˆÙƒÙˆ - Ù…Ø§Ø±ÙƒØª Ø§Ù„Ø³Ø¹Ø§Ø¯Ø©">
    <meta property="og:description" content="Ø£Ø·Ù„Ø¨ Ù‚Ù‡ÙˆØªÙƒØŒ Ø´ÙŠØ¨Ø³ÙŠØŒ ÙˆÙƒÙ„ Ø·Ù„Ø¨Ø§ØªÙƒ Ø§ÙˆÙ†Ù„Ø§ÙŠÙ† ÙˆØªÙˆØµÙ„Ùƒ Ù„Ø­Ø¯ Ø¹Ù†Ø¯Ùƒ!">
 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø£Ù‚Ø±Ø¨Ù„ÙˆÙƒÙˆ | Akrabloko Store</title>
  
    <meta name="description" content="Ø£Ù‚Ø±Ø¨Ù„ÙˆÙƒÙˆ Ù‡Ùˆ Ø£Ø³Ø±Ø¹ Ø³ÙˆØ¨Ø± Ù…Ø§Ø±ÙƒØª Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† ÙÙŠ Ù…ØµØ±. Ø§Ø·Ù„Ø¨ Ù†Ø³ÙƒØ§ÙÙŠÙ‡ØŒ Ø´ÙŠØ¨Ø³ÙŠØŒ Ø³Ø¬Ø§Ø¦Ø±ØŒ ÙˆØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø¨ÙŠØª ÙˆØªÙˆØµÙ„Ùƒ Ø¯Ù„ÙŠÙØ±ÙŠ 24 Ø³Ø§Ø¹Ø© Ù„Ø­Ø¯ Ø¨Ø§Ø¨ Ø§Ù„Ø¨ÙŠØª.">
    <meta name="keywords" content="Ø³ÙˆØ¨Ø± Ù…Ø§Ø±ÙƒØª, Ø¯Ù„ÙŠÙØ±ÙŠ 24 Ø³Ø§Ø¹Ø©, ØªÙˆØµÙŠÙ„ Ø·Ù„Ø¨Ø§Øª, Ù†Ø³ÙƒØ§ÙÙŠÙ‡, Ø³Ø¬Ø§Ø¦Ø±, Ø´ÙŠØ¨Ø³ÙŠ, Ø¨Ù‚Ø§Ù„Ø© Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†, Ø£Ù‚Ø±Ø¨Ù„ÙˆÙƒÙˆ, Akrabloko, Ø·Ù„Ø¨Ø§Øª Ø§ÙˆÙ†Ù„Ø§ÙŠÙ†">
    <meta name="author" content="Akrabloko Team">
    <meta name="robots" content="index, follow"> 
    <meta name="theme-color" content="#bc13fe"> 
  
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        neonBlue: '#00f3ff',
                        neonPink: '#bc13fe',
                        neonGreen: '#39ff14',
                        darkBg: '#050505',
                        cardBg: '#111111'
                    },
                    fontFamily: {
                        cairo: ['Cairo', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #050505;
            color: #fff;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        /* Neon Text Effect */
        .neon-text-blue { text-shadow: 0 0 8px #00f3ff; }
        .neon-text-pink { text-shadow: 0 0 8px #bc13fe; }
        
        /* Neon Box Effect */
        .neon-box {
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .neon-box:hover {
            border-color: #bc13fe;
            box-shadow: 0 0 15px rgba(188, 19, 254, 0.3);
            transform: translateY(-4px);
        }

        /* Animations */
        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .animate-slide { animation: slideUp 0.3s ease-out forwards; }

        /* Custom Scrollbar */
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #1a1a1a; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #bc13fe; border-radius: 4px; }
        
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        .category-btn.active {
            background: linear-gradient(135deg, #bc13fe, #6a00ff);
            color: white;
            box-shadow: 0 0 15px rgba(188, 19, 254, 0.5);
            border: none;
        }

        /* Input Styles */
        .custom-input {
            width: 100%;
            background: #1a1a1a;
            border: 1px solid #333;
            color: white;
            padding: 12px;
            border-radius: 10px;
            margin-bottom: 10px;
            transition: all 0.3s;
        }
        .custom-input:focus {
            outline: none;
            border-color: #00f3ff;
            box-shadow: 0 0 10px rgba(0, 243, 255, 0.2);
        }
    </style>
</head>
<body class="pb-32 relative">

    <nav class="fixed top-0 w-full z-50 bg-black/90 backdrop-blur-xl border-b border-white/10 shadow-lg">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center gap-2">
                <div class="text-2xl font-black tracking-tighter leading-none flex items-center gap-1">
                    <span class="text-white">Ø£Ù‚Ø±Ø¨</span><span class="text-neonPink neon-text-pink">Ù„ÙˆÙƒÙˆ</span>
                    <i class="fas fa-rocket text-neonBlue text-xl animate-pulse ml-1 transform -rotate-45"></i>
                </div>
                <button onclick="openTrackModal()" class="mr-2 text-[10px] font-bold text-neonBlue border border-neonBlue/30 bg-neonBlue/10 px-3 py-1.5 rounded-full flex items-center gap-1 hover:bg-neonBlue/20 transition">
                    <i class="fas fa-search-location"></i> ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨
                </button>
            </div>
            <div class="flex items-center gap-2 bg-gray-900 border border-gray-700 rounded-full px-3 py-1">
                <span class="relative flex h-2 w-2">
                  <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                  <span class="relative inline-flex rounded-full h-2 w-2 bg-green-500"></span>
                </span>
                <span class="text-[10px] font-bold text-gray-300">Ù…ÙØªÙˆØ­ 24H</span>
            </div>
        </div>
    </nav>

    <header class="relative mt-20 mb-6 px-4 text-center">
        <div class="bg-gradient-to-b from-gray-900 to-black rounded-3xl p-6 border border-gray-800 relative overflow-hidden">
            <div class="absolute -top-10 -right-10 w-40 h-40 bg-neonPink blur-[80px] opacity-10"></div>
            <div class="absolute -bottom-10 -left-10 w-40 h-40 bg-neonBlue blur-[80px] opacity-10"></div>
            <h1 class="text-2xl md:text-3xl font-black mb-2 text-white">
                Ø£Ù‚Ø±Ø¨ Ù…Ø§Ø±ÙƒØª <span class="text-neonBlue">Ù„Ø¯Ù…Ø§ØºÙƒ</span> ğŸš€
            </h1>
            <p class="text-gray-400 text-xs md:text-sm max-w-md mx-auto">
                Ù…Ù† Ø§Ù„Ø¥Ø¨Ø±Ø© Ù„Ù„ØµØ§Ø±ÙˆØ®.. Ù…Ø²Ø§Ø¬Ùƒ ÙˆØ·Ù„Ø¨Ø§Øª Ø¨ÙŠØªÙƒ ØªÙˆØµÙ„Ùƒ ÙÙŠ Ø«ÙˆØ§Ù†ÙŠ.
            </p>
          <div id="download-section" style="display: none;" class="mt-5 justify-center">
    <a href="Akrabloko.apk" download="Akrabloko.apk" class="bg-neonGreen/20 hover:bg-neonGreen/40 text-neonGreen font-bold px-6 py-3 rounded-2xl border border-neonGreen/50 shadow-[0_0_15px_rgba(57,255,20,0.2)] flex items-center gap-3 transition-all transform active:scale-95 group">
        <i class="fab fa-android text-2xl group-hover:scale-110 transition"></i>
        <div class="text-right">
            <p class="text-[9px] uppercase tracking-widest opacity-70 leading-none mb-1">Download App</p>
            <p class="text-sm leading-none">ØªØ­Ù…ÙŠÙ„ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø£Ù†Ø¯Ø±ÙˆÙŠØ¯</p>
        </div>
    </a>
</div>

        </div>
    </header>

    <section class="container mx-auto px-3 md:px-4 mb-12">
        <div class="relative mb-6 group">
            <input type="text" id="searchInput" onkeyup="searchProducts()" placeholder="Ø¹Ø§ÙŠØ² Ø¨Ù†ØŒ Ø¥Ù†Ø¯ÙˆÙ…ÙŠØŒ Ø³Ø¬Ø§ÙŠØ±ØŸ" 
                class="w-full bg-gray-900/80 border border-gray-700 text-white rounded-2xl py-3.5 px-11 focus:outline-none focus:border-neonBlue focus:ring-1 focus:ring-neonBlue transition duration-300">
            <i class="fas fa-search absolute right-4 top-4 text-gray-500 group-focus-within:text-neonBlue transition-colors"></i>
        </div>

        <div class="sticky top-[60px] z-40 bg-[#050505]/95 backdrop-blur-sm py-2 mb-2 -mx-4 px-4 border-b border-white/5">
            <div id="categories-container" class="flex overflow-x-auto gap-2 no-scrollbar pb-1">
                <button onclick="filterProducts('all')" class="category-btn active px-4 py-2 rounded-xl border border-gray-700 bg-gray-800 text-xs font-bold transition-all whitespace-nowrap">Ø§Ù„ÙƒÙ„</button>
                <div class="flex items-center justify-center px-4 text-gray-500 text-xs animate-pulse">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…...</div>
            </div>
        </div>

        <div id="products-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-4 mb-8">
            </div>
    </section>

    <footer class="bg-black border-t border-gray-800 py-8 mt-auto relative z-10 text-center">
        <div class="container mx-auto px-4">
            <h2 class="text-2xl font-black text-white mb-2">Ø£Ù‚Ø±Ø¨<span class="text-neonPink">Ù„ÙˆÙƒÙˆ</span></h2>
            <p class="text-gray-500 text-sm mb-4">Ø®Ø¯Ù…Ø© ØªÙˆØµÙŠÙ„ 24 Ø³Ø§Ø¹Ø© - Ø£Ø³Ø±Ø¹ Ø¯Ù„ÙŠÙØ±ÙŠ ÙÙŠ Ù…ØµØ±</p>
            <div class="border-t border-gray-800 pt-6">
                <p class="text-neonBlue font-bold text-lg mb-1"><i class="fas fa-phone-alt mr-2"></i> 01000000000</p>
                <p class="text-gray-600 text-xs">Â© 2025 Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù€ Ø£Ù‚Ø±Ø¨Ù„ÙˆÙƒÙˆ</p>
            </div>
        </div>
    </footer>

    <div class="fixed bottom-5 left-4 right-4 z-40 max-w-lg mx-auto">
        <button onclick="toggleCart()" class="w-full bg-gray-900 border border-neonPink/50 text-white rounded-2xl shadow-[0_4px_20px_rgba(188,19,254,0.3)] overflow-hidden group">
            <div class="bg-gradient-to-r from-neonPink/10 to-purple-900/20 backdrop-blur-md py-3 px-5 flex justify-between items-center h-full">
                <div class="flex items-center gap-3">
                    <div class="bg-neonPink text-white font-black w-8 h-8 rounded-lg flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform" id="cart-counter">0</div>
                    <div class="flex flex-col items-start">
                        <span class="font-bold text-sm">Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</span>
                        <span class="text-[10px] text-gray-400">Ø¯ÙˆØ³ Ø¹Ø´Ø§Ù† ØªØ·Ù„Ø¨</span>
                    </div>
                </div>
                <span class="font-black text-lg text-neonBlue" id="cart-total">0 Ø¬.Ù…</span>
            </div>
        </button>
    </div>

    <div id="track-modal" class="fixed inset-0 z-[90] hidden flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" onclick="closeTrackModal()"></div>
        <div class="bg-black/70 backdrop-blur-xl w-full max-w-md rounded-2xl border border-white/10 relative animate-slide overflow-hidden shadow-2xl">
            <div class="p-6 text-center">
                <div class="w-16 h-16 bg-white/5 rounded-full mx-auto flex items-center justify-center mb-4 border border-neonBlue shadow-[0_0_15px_rgba(0,243,255,0.2)]">
                    <i class="fas fa-search-location text-3xl text-neonBlue"></i>
                </div>
                <h2 class="text-xl font-black text-white mb-2">ØªØªØ¨Ø¹ Ø­Ø§Ù„Ø© Ø·Ù„Ø¨Ùƒ</h2>
                <p class="text-gray-400 text-xs mb-4">Ø§ÙƒØªØ¨ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù„ÙŠ Ø¸Ù‡Ø±Ù„Ùƒ Ø¨Ø¹Ø¯ Ù…Ø§ Ø·Ù„Ø¨Øª</p>
                
                <div class="mb-4">
                    <input type="number" id="track-input" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ (Ù…Ø«Ù„Ø§Ù‹ 58293)" class="custom-input bg-white/5 border-white/10 focus:border-neonBlue text-center text-lg font-bold tracking-widest text-white">
                </div>

                <button onclick="trackOrder()" class="w-full bg-neonBlue text-black font-bold py-3 rounded-xl hover:bg-cyan-400 transition mb-4 shadow-lg border border-neonBlue/50">
                    Ø¨Ø­Ø« <i class="fas fa-arrow-left mr-1"></i>
                </button>

                <div id="track-result" class="hidden bg-black/40 p-4 rounded-xl border border-white/5 mt-4"></div>
            </div>
            <button onclick="closeTrackModal()" class="absolute top-4 left-4 text-gray-400 hover:text-white"><i class="fas fa-times text-xl"></i></button>
        </div>
    </div>

    <div id="variant-modal" class="fixed inset-0 z-[70] hidden flex items-end md:items-center justify-center sm:p-4">
        <div class="absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity" onclick="closeVariantModal()"></div>
        <div class="bg-black/70 backdrop-blur-xl w-full max-w-sm rounded-t-3xl md:rounded-3xl border-t md:border border-white/10 relative animate-slide overflow-hidden flex flex-col max-h-[80vh] shadow-2xl">
            <div class="w-12 h-1 bg-gray-500/50 rounded-full mx-auto mt-3 mb-1 md:hidden"></div>
            <div class="p-5 text-center flex-shrink-0">
                <div class="w-16 h-16 bg-white/5 rounded-full mx-auto flex items-center justify-center mb-3 border border-white/10 shadow-[0_0_15px_rgba(188,19,254,0.2)]">
                    <i id="modal-icon" class="fas fa-star text-3xl text-neonPink"></i>
                </div>
                <h3 id="modal-product-name" class="text-xl font-bold text-white mb-1">Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬</h3>
                <p class="text-gray-300 text-xs">Ø§Ø®ØªØ§Ø± Ø§Ù„Ø·Ø¹Ù… Ø£Ùˆ Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ù…ÙØ¶Ù„ Ù„ÙŠÙƒ</p>
            </div>
            <div id="variant-options" class="grid grid-cols-2 gap-2 p-4 pt-0 overflow-y-auto custom-scrollbar"></div>
            <div class="p-4 border-t border-white/10 bg-black/20">
                <button onclick="closeVariantModal()" class="w-full bg-white/10 hover:bg-white/20 text-white py-3 rounded-xl text-sm font-bold transition border border-white/5">Ø¥Ù„ØºØ§Ø¡</button>
            </div>
        </div>
    </div>

    <div id="checkout-modal" class="fixed inset-0 z-[80] hidden flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" onclick="closeCheckoutModal()"></div>
        <div class="bg-black/70 backdrop-blur-xl w-full max-w-md rounded-2xl border border-white/10 relative animate-slide overflow-hidden shadow-2xl">
            <div class="p-6">
                <h2 class="text-2xl font-black text-white mb-2 text-center">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„ ğŸ›µ</h2>
                <p class="text-gray-400 text-xs text-center mb-6">Ø§ÙƒØªØ¨ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¨Ø³ Ø¹Ø´Ø§Ù† Ù†ÙˆØµÙ„Ùƒ Ù„Ø­Ø¯ Ø§Ù„Ø¨Ø§Ø¨.</p>
                
                <form id="checkout-form" onsubmit="event.preventDefault(); submitOrder();">
                    <div class="mb-4">
                        <label class="block text-gray-300 text-xs font-bold mb-2">Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„</label>
                        <input type="text" id="customer-name" class="custom-input bg-white/5 border-white/10 focus:border-neonBlue" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§.." required>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-gray-300 text-xs font-bold mb-2">Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ (ÙˆØ§ØªØ³Ø§Ø¨)</label>
                        <input type="tel" id="customer-phone" class="custom-input bg-white/5 border-white/10 focus:border-neonBlue" placeholder="01xxxxxxxxx" maxlength="11" required>
                        <p class="text-red-500 text-xs hidden" id="phone-error">Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ Ù„Ø§Ø²Ù… ÙŠÙƒÙˆÙ† 11 Ø±Ù‚Ù… ÙˆÙŠØ¨Ø¯Ø£ Ø¨Ù€ 01</p>
                    </div>

                    <div class="mb-6">
                        <label class="block text-gray-300 text-xs font-bold mb-2">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„</label>
                        <textarea id="customer-address" class="custom-input bg-white/5 border-white/10 focus:border-neonBlue h-24 resize-none" placeholder="Ø§Ø³Ù… Ø§Ù„Ø´Ø§Ø±Ø¹ØŒ Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…Ø§Ø±Ø©ØŒ Ø§Ù„Ø¯ÙˆØ±ØŒ Ø¹Ù„Ø§Ù…Ø© Ù…Ù…ÙŠØ²Ø©.." required></textarea>
                    </div>

                    <button type="submit" class="w-full bg-gradient-to-r from-neonPink to-purple-800 hover:from-purple-700 hover:to-neonPink text-white font-bold py-4 rounded-xl shadow-lg transition transform active:scale-95 flex justify-center items-center gap-2 border border-white/10">
                        <span>ØªØ£ÙƒÙŠØ¯ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</span> <i class="fas fa-paper-plane"></i>
                    </button>
                </form>
            </div>
            <button onclick="closeCheckoutModal()" class="absolute top-4 left-4 text-gray-400 hover:text-white"><i class="fas fa-times text-xl"></i></button>
        </div>
    </div>

    <div id="cart-modal" class="fixed inset-0 z-[60] hidden">
        <div class="absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity" onclick="toggleCart()"></div>
        <div class="absolute bottom-0 left-0 right-0 bg-black/80 backdrop-blur-xl rounded-t-3xl border-t border-white/10 shadow-[0_-10px_40px_rgba(0,0,0,0.5)] transform transition-transform duration-300 max-h-[90vh] flex flex-col">
            <div class="w-full flex justify-center pt-3 pb-1" onclick="toggleCart()"><div class="w-12 h-1.5 bg-gray-500/50 rounded-full"></div></div>
            <div class="px-6 py-4 flex justify-between items-center border-b border-white/10">
                <h2 class="text-lg font-bold text-white flex items-center gap-2"><i class="fas fa-receipt text-neonBlue"></i> Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø·Ù„Ø¨</h2>
                <button type="button" onclick="clearCart()" class="text-red-400 text-xs px-3 py-1.5 bg-red-500/10 rounded-full hover:bg-red-500/20 transition border border-red-500/20 flex items-center gap-1">
                    <i class="fas fa-trash-alt"></i> Ø­Ø°Ù Ø§Ù„ÙƒÙ„
                </button>
            </div>
            <div id="cart-items" class="p-4 overflow-y-auto flex-1 space-y-3 custom-scrollbar"></div>
            <div class="p-5 bg-black/40 border-t border-white/10 pb-8">
                <div class="flex justify-between items-center mb-4 text-lg font-bold">
                    <span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span>
                    <span class="text-neonBlue text-xl" id="modal-total-price">0 Ø¬.Ù…</span>
                </div>
                <button onclick="openCheckoutModal()" class="w-full bg-[#25D366] hover:bg-[#1caa53] text-white font-bold py-3.5 rounded-xl flex justify-center items-center gap-2 shadow-lg transition transform active:scale-95">
                    <i class="fas fa-check-circle text-2xl"></i> <span>Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</span>
                </button>
            </div>
        </div>
    </div>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
      import { getFirestore, collection, addDoc, serverTimestamp, query, where, getDocs, orderBy } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

      const firebaseConfig = {
          apiKey: "AIzaSyCUgMCQPD3LqQHhiJqGUykCvi4GkqIxBDg",
          authDomain: "akrabloko.firebaseapp.com",
          projectId: "akrabloko",
          storageBucket: "akrabloko.firebasestorage.app",
          messagingSenderId: "846428093028",
          appId: "1:846428093028:web:29f31599b90125c2673d71",
          measurementId: "G-31SP9TP2N1"
      };

      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      // --- Variables ---
      let products = []; 
      let cart = JSON.parse(localStorage.getItem('akrabloko_cart')) || [];
      window.currentSelectedProduct = null;

      // --- Init ---
      window.addEventListener('DOMContentLoaded', () => {
          fetchCategories(); // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø¯Ø§Ù„Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
          fetchProducts();
          updateCartUI();
          checkAppContext();
          
          const savedData = JSON.parse(localStorage.getItem('akrabloko_user'));
          if(savedData) {
              document.getElementById('customer-name').value = savedData.name || '';
              document.getElementById('customer-phone').value = savedData.phone || '';
              document.getElementById('customer-address').value = savedData.address || '';
          }
      });

      // --- 1. Ø¯Ø§Ù„Ø© Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø°ÙƒÙŠØ© (Ø§Ù„Ù…ÙˆÙØ±Ø© Ù…Ø¹ Ø§Ù„ÙƒØ§Ø´) ---
      window.fetchCategories = async function() {
          const container = document.getElementById('categories-container');
          
          // Ø§Ù„Ø²Ø± Ø§Ù„Ø«Ø§Ø¨Øª "Ø§Ù„ÙƒÙ„" Ø¹Ø´Ø§Ù† Ø§Ù„ØªØµÙ…ÙŠÙ… ÙŠÙØ¶Ù„ Ø²ÙŠ Ù…Ø§ Ù‡Ùˆ
          let defaultHtml = `<button onclick="filterProducts('all')" class="category-btn active px-4 py-2 rounded-xl border border-gray-700 bg-gray-800 text-xs font-bold transition-all whitespace-nowrap">Ø§Ù„ÙƒÙ„</button>`;

          // 1. Ø´ÙˆÙ Ø§Ù„ÙƒØ§Ø´ Ø§Ù„Ø£ÙˆÙ„ (Ù…Ø¯Ø© Ø§Ù„Ø­ÙØ¸: Ø³Ø§Ø¹Ø©)
          const CACHE_TIME = 60 * 60 * 1000; 
          const cachedCats = localStorage.getItem('akrabloko_cats');
          const cachedTime = localStorage.getItem('akrabloko_cats_time');

          if (cachedCats && cachedTime && (Date.now() - cachedTime < CACHE_TIME)) {
              console.log("ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ù…Ù† Ø§Ù„Ø°Ø§ÙƒØ±Ø© (ØªÙˆÙÙŠØ±) ğŸ’¾");
              const cats = JSON.parse(cachedCats);
              let html = defaultHtml;
              cats.forEach(c => {
                  html += `<button onclick="filterProducts('${c.slug}')" class="category-btn px-4 py-2 rounded-xl border border-gray-700 bg-gray-800 text-xs font-bold transition-all whitespace-nowrap"><i class="fas ${c.icon} mr-1"></i> ${c.name}</button>`;
              });
              container.innerHTML = html;
              return; // ÙˆÙ‚Ù Ù‡Ù†Ø§ ÙˆÙ…ØªØ³Ø­Ø¨Ø´ Ù…Ù† ÙØ§ÙŠØ±Ø¨ÙŠØ³
          }

          // 2. Ù„Ùˆ Ù…ÙÙŠØ´ ÙƒØ§Ø´ØŒ Ù‡Ø§Øª Ù…Ù† ÙØ§ÙŠØ±Ø¨ÙŠØ³
          try {
              console.log("Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ± ğŸ”¥");
              const q = query(collection(db, "categories"), orderBy("name"));
              const snapshot = await getDocs(q);
              
              let html = defaultHtml;
              let catsToCache = []; // Ù…ØµÙÙˆÙØ© Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ÙƒØ§Ø´

              if (!snapshot.empty) {
                  snapshot.forEach(doc => {
                      const c = doc.data();
                      catsToCache.push(c); // Ø¶ÙŠÙ Ù„Ù„Ù…ØµÙÙˆÙØ©
                      // Ø±Ø³Ù… Ø§Ù„Ø²Ø±Ø§Ø± Ø¨Ù†ÙØ³ Ø³ØªØ§ÙŠÙ„ ÙˆØªØµÙ…ÙŠÙ… Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø¨Ø§Ù„Ø¸Ø¨Ø·
                      html += `<button onclick="filterProducts('${c.slug}')" class="category-btn px-4 py-2 rounded-xl border border-gray-700 bg-gray-800 text-xs font-bold transition-all whitespace-nowrap"><i class="fas ${c.icon} mr-1"></i> ${c.name}</button>`;
                  });
                  
                  // Ø§Ø­ÙØ¸ ÙÙŠ Ø§Ù„ÙƒØ§Ø´ Ù„Ù„Ù…Ø±Ø© Ø§Ù„Ø¬Ø§ÙŠØ©
                  localStorage.setItem('akrabloko_cats', JSON.stringify(catsToCache));
                  localStorage.setItem('akrabloko_cats_time', Date.now());
              } else {
                 html += `<span class="text-xs text-gray-500 px-2 py-2">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù‚Ø³Ø§Ù…</span>`;
              }
              container.innerHTML = html;
          } catch(e) {
              console.error("Error loading categories:", e);
              // Ù„Ùˆ Ø§Ù„Ù†Øª Ù‚Ø§Ø·Ø¹ØŒ Ø­Ø§ÙˆÙ„ ØªØ³ØªØ±Ø¬Ø¹ Ø§Ù„Ù‚Ø¯ÙŠÙ… Ù…Ù† Ø§Ù„ÙƒØ§Ø´ Ø­ØªÙ‰ Ù„Ùˆ ÙˆÙ‚ØªÙ‡ Ø®Ù„Øµ
              if(cachedCats) {
                  const cats = JSON.parse(cachedCats);
                  let html = defaultHtml;
                  cats.forEach(c => html += `<button onclick="filterProducts('${c.slug}')" class="category-btn px-4 py-2 rounded-xl border border-gray-700 bg-gray-800 text-xs font-bold transition-all whitespace-nowrap"><i class="fas ${c.icon} mr-1"></i> ${c.name}</button>`);
                  container.innerHTML = html;
              } else {
                  container.innerHTML = defaultHtml; 
              }
          }
      };

      // --- Ø¯Ø§Ù„Ø© Ø§Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø°ÙƒÙŠØ© Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª (Ø²ÙŠ Ù…Ø§ Ù‡ÙŠ) ---
      window.fetchProducts = async function() {
          const grid = document.getElementById('products-grid');
          grid.innerHTML = '<div class="col-span-full text-center py-10"><div class="loader"></div><p class="text-gray-400">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ÙŠÙˆ...</p></div>';

          // 1. ØªØ­Ø¯ÙŠØ¯ Ù…Ø¯Ø© Ø§Ù„Ø­ÙØ¸ (Ù…Ø«Ù„Ø§Ù‹ Ø³Ø§Ø¹Ø© ÙˆØ§Ø­Ø¯Ø©)
          const CACHE_TIME = 60 * 60 * 1000; // Ø³Ø§Ø¹Ø© Ø¨Ø§Ù„Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©
          const cachedData = localStorage.getItem('akrabloko_products');
          const cachedTimestamp = localStorage.getItem('akrabloko_time');

          // 2. ÙØ­Øµ Ù‡Ù„ ÙÙŠÙ‡ Ù†Ø³Ø®Ø© Ù…Ø­ÙÙˆØ¸Ø© ÙˆØ¬Ø¯ÙŠØ¯Ø©ØŸ
          if (cachedData && cachedTimestamp && (Date.now() - cachedTimestamp < CACHE_TIME)) {
              console.log("ØªÙ… Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ù† Ø°Ø§ÙƒØ±Ø© Ø§Ù„ØªÙ„ÙŠÙÙˆÙ† (ØªÙˆÙÙŠØ± Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©) ğŸ’¾");
              products = JSON.parse(cachedData);
              if(products.length === 0) grid.innerHTML = '<div class="col-span-full text-center text-gray-500">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª.</div>';
              else renderProducts(products);
              return; // ÙˆÙ‚Ù Ù‡Ù†Ø§ ÙˆÙ…ØªÙƒÙ…Ù„Ø´ Ù„ÙØ§ÙŠØ±Ø¨ÙŠØ³
          }

          // 3. Ù„Ùˆ Ù…ÙÙŠØ´ Ù†Ø³Ø®Ø©ØŒ Ù‡Ø§Øª Ù…Ù† ÙØ§ÙŠØ±Ø¨ÙŠØ³ (ÙŠØ³ØªÙ‡Ù„Ùƒ Ù‚Ø±Ø§Ø¡Ø©)
          try {
              console.log("Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ù† ÙØ§ÙŠØ±Ø¨ÙŠØ³ (ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª) ğŸ”¥");
              const q = query(collection(db, "products"), orderBy("category"));
              const snapshot = await getDocs(q);
              products = [];
              snapshot.forEach(doc => products.push({ id: doc.id, ...doc.data() }));
              
              // 4. Ø§Ø­ÙØ¸ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙÙŠ Ø§Ù„ØªÙ„ÙŠÙÙˆÙ† Ù„Ù„Ù…Ø±Ø© Ø§Ù„Ø¬Ø§ÙŠØ©
              localStorage.setItem('akrabloko_products', JSON.stringify(products));
              localStorage.setItem('akrabloko_time', Date.now());

              if(products.length === 0) grid.innerHTML = '<div class="col-span-full text-center text-gray-500">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹.</div>';
              else renderProducts(products);
          } catch (error) {
              console.error(error);
              // Ù„Ùˆ Ø§Ù„Ù†Øª Ù‚Ø§Ø·Ø¹ØŒ Ø­Ø§ÙˆÙ„ ØªØ¹Ø±Ø¶ Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø­ØªÙ‰ Ù„Ùˆ ÙˆÙ‚ØªÙ‡ Ø®Ù„Øµ
              if (cachedData) {
                  products = JSON.parse(cachedData);
                  renderProducts(products);
                  alert("ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ù†ØªØŒ ØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©");
              } else {
                  grid.innerHTML = '<div class="col-span-full text-center text-red-500 p-5">ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„! ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª<br><button onclick="fetchProducts()" class="mt-2 text-neonBlue underline">Ø­Ø§ÙˆÙ„ ØªØ§Ù†ÙŠ</button></div>';
              }
          }
      }

      // --- Render (Exact Same HTML) ---
      window.renderProducts = (items) => {
          const grid = document.getElementById('products-grid');
          grid.innerHTML = items.map(p => `
              <div class="bg-gray-900 rounded-2xl p-4 neon-box flex flex-col items-center justify-between text-center h-full relative overflow-hidden group">
                  <div class="absolute inset-0 bg-gradient-to-b from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition duration-500"></div>
                  <div class="w-14 h-14 rounded-full bg-gray-800 flex items-center justify-center mb-3 border border-gray-700 group-hover:border-neonBlue transition shadow-lg relative z-10">
                      <i class="fas ${p.icon} ${p.color || 'text-white'} text-2xl group-hover:scale-110 transition"></i>
                  </div>
                  <div class="relative z-10 w-full">
                      <h3 class="font-bold text-gray-100 text-sm mb-1 line-clamp-1">${p.name}</h3>
                      <span class="text-[10px] text-gray-500 font-bold bg-black/50 px-2 py-0.5 rounded-full inline-block mb-3">${p.desc || p.category}</span>
                      <div class="flex items-center justify-between w-full bg-black/30 rounded-xl p-1 pr-3 border border-gray-800">
                          <span class="text-neonBlue font-black text-sm">${p.price} <span class="text-[9px] text-gray-400">Ø¬.Ù…</span></span>
                          <button onclick="prepareAddToCart('${p.id}')" class="w-7 h-7 rounded-lg bg-neonPink text-white flex items-center justify-center hover:bg-purple-500 transition shadow-lg active:scale-90">
                              <i class="fas fa-plus text-xs"></i>
                          </button>
                      </div>
                  </div>
              </div>
          `).join('');
      };

      // --- Functions (Global) ---
      window.filterProducts = (cat) => {
          document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
          // Ø¥Ø¶Ø§ÙØ© ÙƒÙ„Ø§Ø³ active Ù„Ù„Ø²Ø± Ø§Ù„Ù„ÙŠ ØªÙ… Ø§Ù„Ø¶ØºØ· Ø¹Ù„ÙŠÙ‡ (Ø³ÙˆØ§Ø¡ ÙƒØ§Ù† Ø§Ù„ÙƒÙ„ Ø£Ùˆ Ù‚Ø³Ù… Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ)
          if(event && event.currentTarget) event.currentTarget.classList.add('active');
          
          if(cat === 'all') renderProducts(products);
          else renderProducts(products.filter(p => p.category === cat));
      };

      window.searchProducts = () => {
          const query = document.getElementById('searchInput').value.toLowerCase();
          renderProducts(products.filter(p => p.name.toLowerCase().includes(query)));
      };

      window.prepareAddToCart = (id) => {
          const product = products.find(p => p.id === id);
          if (product.variants && product.variants.length > 0) openVariantModal(product);
          else addToCart(product, null);
      };

      window.openVariantModal = (product) => {
          window.currentSelectedProduct = product;
          document.getElementById('modal-product-name').innerText = product.name;
          // Set Modal Icon
          document.getElementById('modal-icon').className = `fas ${product.icon} text-3xl ${product.color || 'text-neonPink'}`;
          
          const container = document.getElementById('variant-options');
          container.innerHTML = product.variants.map(variant => `
              <button onclick="selectVariant('${variant}')" class="bg-gray-800 hover:bg-neonBlue hover:text-black hover:font-black text-gray-200 py-3 px-2 rounded-xl text-xs font-bold transition border border-gray-700 hover:border-neonBlue flex items-center justify-center text-center h-14">
                  ${variant}
              </button>
          `).join('');
          document.getElementById('variant-modal').classList.remove('hidden');
      };

      window.closeVariantModal = () => {
          document.getElementById('variant-modal').classList.add('hidden');
          window.currentSelectedProduct = null;
      };

      window.selectVariant = (v) => {
          if(window.currentSelectedProduct) {
              addToCart(window.currentSelectedProduct, v);
              closeVariantModal();
          }
      };

      window.addToCart = (product, variant) => {
          const cartItemId = variant ? `${product.id}-${variant}` : `${product.id}`;
          const displayName = variant ? `${product.name} (${variant})` : product.name;
          const exists = cart.find(i => i.cartItemId === cartItemId);
          if(exists) exists.qty++; else cart.push({ cartItemId, id: product.id, name: displayName, price: product.price, qty: 1 });
          saveCart(); updateCartUI(); if(navigator.vibrate) navigator.vibrate(50);
      };

      window.changeQty = (id, delta) => {
          const item = cart.find(i => i.cartItemId === id);
          if(item) { item.qty += delta; if(item.qty <= 0) cart = cart.filter(i => i.cartItemId !== id); saveCart(); updateCartUI(); }
      };

      window.clearCart = () => { cart = []; saveCart(); updateCartUI(); };
      window.saveCart = () => localStorage.setItem('akrabloko_cart', JSON.stringify(cart));
      
      window.updateCartUI = () => {
          const count = cart.reduce((a, b) => a + b.qty, 0);
          const total = cart.reduce((a, b) => a + (b.price * b.qty), 0);
          document.getElementById('cart-counter').innerText = count;
          document.getElementById('cart-total').innerText = total + ' Ø¬.Ù…';
          document.getElementById('modal-total-price').innerText = total + ' Ø¬.Ù…';
          const container = document.getElementById('cart-items');
          if(cart.length === 0) {
              container.innerHTML = `<div class="text-center text-gray-500 py-10 flex flex-col items-center"><i class="fas fa-shopping-basket text-4xl mb-3 opacity-20"></i>Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</div>`;
          } else {
              container.innerHTML = cart.map(item => `
                  <div class="flex justify-between items-center bg-gray-900 p-3 rounded-xl border border-gray-800">
                      <div class="flex flex-col">
                          <h4 class="font-bold text-white text-xs mb-1">${item.name}</h4>
                          <span class="text-[10px] text-neonBlue font-bold">${item.price} Ø¬.Ù…</span>
                      </div>
                      <div class="flex items-center gap-2 bg-black rounded-lg px-2 py-1">
                          <button onclick="changeQty('${item.cartItemId}', -1)" class="text-gray-400 hover:text-white px-1 font-bold">-</button>
                          <span class="font-bold text-xs w-4 text-center text-white">${item.qty}</span>
                          <button onclick="changeQty('${item.cartItemId}', 1)" class="text-green-400 hover:text-white px-1 font-bold">+</button>
                      </div>
                  </div>
              `).join('');
          }
      };

      window.toggleCart = () => document.getElementById('cart-modal').classList.toggle('hidden');
      window.openCheckoutModal = () => { if(cart.length === 0) return alert('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©!'); toggleCart(); document.getElementById('checkout-modal').classList.remove('hidden'); };
      window.closeCheckoutModal = () => document.getElementById('checkout-modal').classList.add('hidden');

      window.submitOrder = async () => {
          const name = document.getElementById('customer-name').value.trim();
          const phone = document.getElementById('customer-phone').value.trim();
          const address = document.getElementById('customer-address').value.trim();
          const phoneError = document.getElementById('phone-error');
          phoneError.classList.add('hidden');
          
          if(!name || !phone || !address) return alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
          const phoneRegex = /^01[0125][0-9]{8}$/;
          if (!phoneRegex.test(phone)) { phoneError.classList.remove('hidden'); return; }

          localStorage.setItem('akrabloko_user', JSON.stringify({ name, phone, address }));
          const btn = document.querySelector('#checkout-form button');
          const originalText = btn.innerHTML;
          btn.innerHTML = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„... <i class="fas fa-spinner fa-spin"></i>'; btn.disabled = true;

          const orderNum = Math.floor(100000 + Math.random() * 900000);
          try {
              await addDoc(collection(db, "orders"), {
                  orderNum, customer: { name, phone, address }, items: cart,
                  total: cart.reduce((a, b) => a + (b.price * b.qty), 0),
                  status: "new", timestamp: serverTimestamp(), date: new Date().toLocaleString('ar-EG')
              });
              alert(`âœ… ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ!\nğŸ”¢ ÙƒÙˆØ¯: ${orderNum}`);
              clearCart(); closeCheckoutModal();
          } catch (error) { alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„! ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù†Øª"); }
          finally { btn.innerHTML = originalText; btn.disabled = false; }
      }

      window.openTrackModal = () => { document.getElementById('track-modal').classList.remove('hidden'); document.getElementById('track-result').classList.add('hidden'); document.getElementById('track-input').value = ''; };
      window.closeTrackModal = () => document.getElementById('track-modal').classList.add('hidden');

      window.trackOrder = async () => {
          const input = document.getElementById('track-input').value;
          const resultDiv = document.getElementById('track-result');
          if(!input) return alert('Ø§ÙƒØªØ¨ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨!');
          resultDiv.innerHTML = '<i class="fas fa-spinner fa-spin text-neonBlue"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø«...'; resultDiv.classList.remove('hidden');

          try {
              const q = query(collection(db, "orders"), where("orderNum", "==", parseInt(input)));
              const querySnapshot = await getDocs(q);
              if (querySnapshot.empty) {
                  resultDiv.innerHTML = '<p class="text-red-500 font-bold">âŒ Ø±Ù‚Ù… Ø®Ø·Ø£</p>';
              } else {
                  querySnapshot.forEach((doc) => {
                      const order = doc.data();
                      let statusMsg = order.status === 'new' ? 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ¬Ù‡ÙŠØ² ğŸ‘¨â€ğŸ³' : 'ØªÙ… Ø§Ù„ØªÙˆØµÙŠÙ„ âœ…';
                      let color = order.status === 'new' ? 'text-yellow-400' : 'text-green-500';
                      resultDiv.innerHTML = `<div class="text-center"><p class="text-gray-400 text-sm mb-1">Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ ${order.orderNum}</p><h3 class="text-2xl font-black ${color} mb-2">${statusMsg}</h3></div>`;
                  });
              }
          } catch (error) { resultDiv.innerHTML = '<p class="text-red-500 text-xs">Ø®Ø·Ø£ Ù†Øª</p>'; }
      }

      window.checkAppContext = () => {
          const downloadSection = document.getElementById('download-section');
          if (!navigator.userAgent.includes("AkrablokoApp")) { if (downloadSection) downloadSection.style.display = 'flex'; }
      }
    </script>
    <script>
        if ('serviceWorker' in navigator) { window.addEventListener('load', () => { navigator.serviceWorker.register('./sw.js').catch(err => console.log('SW Fail')); }); }
    </script>
</body>
</html>
