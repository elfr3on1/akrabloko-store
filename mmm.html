<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฃุฏุงุฉ ููุก ุงูุจูุงูุงุช | Akrabloko Seeder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>body { font-family: 'Cairo', sans-serif; background-color: #111; color: white; }</style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4">

    <div class="bg-gray-900 p-8 rounded-2xl border border-gray-700 text-center max-w-lg w-full shadow-2xl">
        <h1 class="text-3xl font-bold mb-4 text-white">๐งช ูุฎุชุจุฑ ุงูุจูุงูุงุช</h1>
        <p class="text-gray-400 mb-8">ุงูุฃุฏุงุฉ ุฏู ูุชูุณุญ ุงูุจูุงูุงุช ุงููุฏููุฉ (ูู ุญุจูุช) ูุชุถูููู ููุชุฌุงุช ูุฃูุณุงู ููุชุฌุฑุจุฉ ููุฑุงู.</p>

        <button onclick="seedData()" id="btn" class="w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-4 rounded-xl text-xl transition shadow-[0_0_20px_rgba(147,51,234,0.5)]">
            ุญูููู ุงูุจูุงูุงุช ุงูุขู ๐
        </button>

        <div id="status" class="mt-6 text-right text-sm font-mono text-green-400 bg-black/50 p-4 rounded-xl h-48 overflow-y-auto hidden"></div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = { apiKey: "AIzaSyCUgMCQPD3LqQHhiJqGUykCvi4GkqIxBDg", authDomain: "akrabloko.firebaseapp.com", projectId: "akrabloko", storageBucket: "akrabloko.firebasestorage.app", messagingSenderId: "846428093028", appId: "1:846428093028:web:29f31599b90125c2673d71" };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // --- ุงูุจูุงูุงุช ุงูููููุฉ ---
        const categories = [
            { name: "ุฑุฌุงูู ๐คต", slug: "men", icon: "fa-tshirt" },
            { name: "ุญุฑููู ๐", slug: "women", icon: "fa-female" },
            { name: "ุฃุญุฐูุฉ ๐", slug: "shoes", icon: "fa-shoe-prints" },
            { name: "ุงูุณุณูุงุฑุงุช โ", slug: "accessories", icon: "fa-watch" }
        ];

        const products = [
            {
                name: "ุชูุดุฑุช ุจูุฒู ุฃุณูุฏ",
                price: 250,
                category: "men",
                desc: "ุชูุดุฑุช ูุทู 100% ุฎุงูุฉ ูููุชูู ูุฑูุญ ุฌุฏุงู ููุตูู.",
                coverImage: "https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=500&auto=format&fit=crop&q=60",
                extraImages: [
                    "https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?w=500&auto=format&fit=crop&q=60",
                    "https://images.unsplash.com/photo-1576566588028-4147f3842f27?w=500&auto=format&fit=crop&q=60"
                ],
                sizes: ["M", "L", "XL"],
                colors: ["ุฃุณูุฏ", "ุฃุจูุถ", "ุฑูุงุฏู"]
            },
            {
                name: "ุฌุงููุช ุฌููุฒ ุดุจุงุจู",
                price: 650,
                category: "men",
                desc: "ุฌุงููุช ุฌููุฒ ุฃุฒุฑู ูุงุชุญ ุชูููู ููุชุงุฒุ ููุงุณุจ ููุฎุฑูุฌุงุช.",
                coverImage: "https://images.unsplash.com/photo-1576871337622-98d48d1cf531?w=500&auto=format&fit=crop&q=60",
                extraImages: ["https://images.unsplash.com/photo-1576995853123-5a297da40303?w=500&auto=format&fit=crop&q=60"],
                sizes: ["L", "XL", "XXL"],
                colors: ["ุฃุฒุฑู ูุงุชุญ", "ุฃุฒุฑู ุบุงูู"]
            },
            {
                name: "ูุณุชุงู ุณูุฑุฉ ุฃุญูุฑ",
                price: 890,
                category: "women",
                desc: "ูุณุชุงู ุณูุงุฑูู ุฎุงูุฉ ุณุชุงู ูุงุนูุฉุ ุชุตููู ุนุตุฑู.",
                coverImage: "https://images.unsplash.com/photo-1595777457583-95e059d581b8?w=500&auto=format&fit=crop&q=60",
                extraImages: ["https://images.unsplash.com/photo-1572804013309-59a88b7e92f1?w=500&auto=format&fit=crop&q=60"],
                sizes: ["S", "M", "L"],
                colors: ["ุฃุญูุฑ", "ุฃุณูุฏ"]
            },
            {
                name: "ููุชุดู ุฑูุงุถู Nike",
                price: 1200,
                category: "shoes",
                desc: "ุญุฐุงุก ุฑูุงุถู ูุฑูุญ ููุฌุฑู ูุงููุดูุ ูุนู ุทุจู.",
                coverImage: "https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=500&auto=format&fit=crop&q=60",
                extraImages: [
                    "https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=500&auto=format&fit=crop&q=60", 
                    "https://images.unsplash.com/photo-1605348532760-6753d5c43329?w=500&auto=format&fit=crop&q=60"
                ],
                sizes: ["40", "41", "42", "43", "44"],
                colors: ["ุฃุญูุฑ", "ุฃุจูุถ"]
            },
            {
                name: "ุณุงุนุฉ ูุฏ ููุงุณูู",
                price: 450,
                category: "accessories",
                desc: "ุณุงุนุฉ ุฌูุฏ ุจููุ ูุงูููุฉ ูุงุจุงูู ุถุฏ ุงูููุงู.",
                coverImage: "https://images.unsplash.com/photo-1524592094714-0f0654e20314?w=500&auto=format&fit=crop&q=60",
                extraImages: [],
                sizes: ["One Size"],
                colors: ["ุจูู", "ุฃุณูุฏ"]
            }
        ];

        window.seedData = async () => {
            const btn = document.getElementById('btn');
            const logDiv = document.getElementById('status');
            btn.disabled = true;
            btn.innerText = "ุฌุงุฑู ุงูุชุญููู... โณ";
            logDiv.classList.remove('hidden');

            const log = (msg) => {
                logDiv.innerHTML += `<div>> ${msg}</div>`;
                logDiv.scrollTop = logDiv.scrollHeight;
            };

            try {
                // 1. ุฅุถุงูุฉ ุงูุฃูุณุงู
                log("ุจุถูู ุงูุฃูุณุงู...");
                for (const cat of categories) {
                    await addDoc(collection(db, "categories"), cat);
                    log(`โ ุชู ุฅุถุงูุฉ ูุณู: ${cat.name}`);
                }

                // 2. ุฅุถุงูุฉ ุงูููุชุฌุงุช
                log("------------------");
                log("ุจุถูู ุงูููุชุฌุงุช...");
                for (const p of products) {
                    await addDoc(collection(db, "products"), {
                        ...p,
                        timestamp: serverTimestamp()
                    });
                    log(`๐ ุชู ุฅุถุงูุฉ: ${p.name}`);
                }

                log("------------------");
                log("๐ ุชู ุงูุงูุชูุงุก ุจูุฌุงุญ!");
                btn.innerText = "ุชูุช ุงูุนูููุฉ โ";
                btn.classList.replace('bg-purple-600', 'bg-green-600');
                
            } catch (error) {
                console.error(error);
                log(`โ ุญุตู ุฎุทุฃ: ${error.message}`);
                btn.innerText = "ูุดู โ";
                btn.disabled = false;
            }
        };
    </script>
</body>
</html>
